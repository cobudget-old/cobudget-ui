<div class="contributors layout">
  <div class="container-fluid">

    <div ng-if="isAdmin"
      class="btn btn-primary btn-upload"
      upload-button
      url="{{ uploadPath }}"
      param="csv"
      accept="text/csv"
      required="true"
      on-upload="onUpload(files)"
      on-success="onSuccess(response)"
      on-error="onError(response)"
      on-complete="onComplete(response)"
    >Upload .csv</div>

    <div class="alerts">
      <alert
        ng-repeat="alert in alerts"
        type="{{alert.type}}"
        close="closeAlert($index)"
      >
        {{alert.msg}}
      </alert>
    </div>

    <div class="panel panel-default">
      <div class="heading panel-heading">
        <i class="icon fa fa-heart-o"></i>
        ${{ round.allocationsTotal.toFormat() }} allocated
        to {{ contributors.length }} people in this round.
      </div>

      <div class="contributors panel-body">
        <table class="table table-bordered table-hover table-condensed">
          <thead>
            <tr>
              <th class="title col-xs-3">Contributor</th>
              <th class="title col-xs-3">Total Allocation</th>
              <th class="title col-xs-3">Contributed so Far</th>
              <th class="title col-xs-3">Left to Contribute</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="contributor in contributors" contributor="contributor" update-allocation="updateAllocation" is-admin="isAdmin" cb-contributor-item>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
